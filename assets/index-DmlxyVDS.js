import{D as j,S as z,P as T,W as q,a as w,B as k,V as E,G as W,b as V,C as X,O as U}from"./vendor-three-CErL6X5l.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const P=new j;P.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/");const D=()=>{const n=new W;return n.setDRACOLoader(P),n};function Y(n,o,i){const e=document.getElementById("viewer3d"),t=e.clientWidth||600,s=e.clientHeight||400,a=new z,c=new T(o,t/s,.01,i);c.position.set(0,0,2);const l=new V(20,20,8947848,4473924);l.position.y=-1,a.add(l),a.background=new X(2631720);const r=new q({antialias:!0});r.setSize(t,s),e.appendChild(r.domElement);const d=new U(c,r.domElement);d.enableDamping=!0;const f=new w(16777215,1),u=new w(16777215,.2),y=new w(16777215,1);f.position.set(8,0,8),u.position.set(-8,0,8),y.position.set(-8,10,-8),c.add(f,u,y),a.add(c);const m=Z(n);if(m){const p=m.scene.clone();a.add(p),N(p,c,d)}else D().load(n,L=>{N(L.scene,c,d),x.set(n,L)});function h(){d.update(),r.render(a,c),requestAnimationFrame(h)}h(),window.renderer=r,window.camera=c}const N=(n,o,i)=>{const e=new k().setFromObject(n),t=e.getCenter(new E),s=e.getSize(new E);n.position.sub(t);const a=Math.max(s.x,s.y,s.z);o.position.z=a*1.5,i.target.set(0,0,0),i.update()};function F(n,o=200,i=200){return new Promise(e=>{const t=new z,s=new T(45,o/i,.01,1e3),a=new q({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});a.setSize(o,i);const c=new w(16777215,1),l=new w(16777215,.2),r=new w(16777215,1);c.position.set(8,0,8),l.position.set(-8,0,8),r.position.set(-8,10,-8),s.add(c),s.add(l),s.add(r),t.add(s),D().load(n,f=>{const u=f.scene;t.add(u);const y=new k().setFromObject(u),m=y.getCenter(new E),h=y.getSize(new E);u.position.sub(m);const p=Math.max(h.x,h.y,h.z),L=s.fov*(Math.PI/180);let B=p/2/Math.tan(L/2)*1.1;s.position.set(B*.6,B*.6,B*.6),s.lookAt(0,0,0),s.updateProjectionMatrix(),a.render(t,s),e(a.domElement.toDataURL()),a.dispose()})})}const x=new Map;async function K(n,o){if(x.has(n))return x.get(n);const i=D();return new Promise((e,t)=>{i.load(o,s=>{const a=s.scene,c=new k().setFromObject(a),l=new E;c.getCenter(l),a.position.sub(l),x.set(n,s),e(s)},void 0,t)})}function Z(n){return x.get(n)}const g={images:[],currentIndex:0,lightboxImg:null,prevButton:null,nextButton:null};g.updateDisplay=function(){this.lightboxImg.src=this.images[this.currentIndex];const n=this.images.length>1;this.prevButton.style.display=n?"block":"none",this.nextButton.style.display=n?"block":"none",n&&(this.prevButton.disabled=this.currentIndex===0,this.nextButton.disabled=this.currentIndex===this.images.length-1)};g.init=function(n,o,i,e){this.images=n,this.lightboxImg=o,this.prevButton=i,this.nextButton=e,this.prevButton.onclick||(this.prevButton.onclick=()=>this.showPrev(),this.nextButton.onclick=()=>this.showNext())};g.showNext=function(){g.currentIndex<g.images.length-1&&(g.currentIndex++,g.updateDisplay())};g.showPrev=function(){g.currentIndex>0&&(g.currentIndex--,g.updateDisplay())};g.open=function(n){this.currentIndex=n,this.updateDisplay(),document.getElementById("lightbox2d").style.display="flex"};const J=new Map;let C=null;async function v(){return C||(C=await(await fetch("assets.json")).json(),C)}const G=new IntersectionObserver((n,o)=>{n.forEach(i=>{if(i.isIntersecting){const e=i.target,t=e.querySelector("img"),s=e.dataset.type,a=e.dataset.file||e.dataset.key,c=()=>{t.classList.add("ready"),e.classList.add("loaded")};s==="3d"?F(a,1e3,1e3).then(l=>{t.src=l,t.onload=c}):s==="2d"&&t.dataset.src&&(t.src=t.dataset.src,t.onload=()=>{typeof t.startGallery=="function"&&t.startGallery(),c()}),o.unobserve(e)}})},{rootMargin:"0px 0px 300px 0px"});function Q(n){return v().then(o=>{const i=document.getElementById("blog");o.blog.forEach(e=>{if(e.title.toLowerCase()=="about"||e.title.toLowerCase()=="impressum"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("blog"),t.innerHTML=`<h3>${e.title}</h3>${e.html}`,i.appendChild(t)})})}function _(n){return v().then(o=>{const i=document.getElementById("about");o.blog.forEach(e=>{if(e.title.toLowerCase()!=="about"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("about"),t.innerHTML=`${e.html}`,i.appendChild(t)})})}function ee(n){return v().then(o=>{const i=document.getElementById("impressum");o.blog.forEach(e=>{if(e.title.toLowerCase()!=="impressum"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("impressum"),t.innerHTML=`${e.html}`,i.appendChild(t)})})}function te(n){v().then(o=>{const i=document.getElementById("gallery2d");let e=document.getElementById("lightbox2d"),t=document.getElementById("prevButton"),s=document.getElementById("nextButton"),a=document.getElementById("closeButton");if(!e){e=document.createElement("div"),e.id="lightbox2d",e.classList.add("lightbox"),e.style.display="none",t=document.createElement("button"),t.id="prevButton",t.textContent="â®",t.className="btn prevButton",s=document.createElement("button"),s.id="nextButton",s.textContent="â¯",s.className="btn nextButton",a=document.createElement("button"),a.id="closeButton",a.textContent="X",a.className="btn closeButton",a.onclick=()=>{e.style.display="none"};const r=document.createElement("div");r.className="lightbox-content";let d=document.createElement("div");d.className="buttonDiv",d.appendChild(t),d.appendChild(s);const f=document.createElement("img");r.appendChild(a),r.appendChild(f),e.appendChild(r),e.appendChild(d),document.body.appendChild(e),e.addEventListener("click",u=>{if(u.target===e||u.target.className==="lightbox-content"){e.style.display="none";const y=e.querySelector("img");y&&y.classList.remove("zoomed")}})}const c=e.querySelector("img"),l={};o.assets["2d"].forEach(r=>{if(A(r)){const u=r.substring(r.indexOf("2d/")+3).split("/")[0];l[u]||(l[u]=[]),l[u].push(r)}else l[r]=[r]}),Object.keys(l).forEach(r=>{const d=l[r],f=d.length>1||A(d[0]),u=f?r:d[0],y=f?r:d[0].split("/").pop().split(".")[0];let m=i.querySelector(`.card[data-key="${u}"]`);if(m){I(m,o,y,n);return}m=document.createElement("div"),m.className="card lazy-load loaded",m.dataset.type="2d",m.setAttribute("data-key",u);const h=document.createElement("div");h.className="img-wrapper",h.setAttribute("data-icon","ðŸ”"),h.setAttribute("data-label","Zoom");const p=document.createElement("img");p.alt=r,p.style.cursor="pointer",p.dataset.src=f?d[0]:u,h.appendChild(p),m.appendChild(h),i.appendChild(m),requestAnimationFrame(()=>{I(m,o,y,n),f?(m.classList.add("slideshow-group"),p.addEventListener("click",()=>{g.init(d,c,t,s),g.open(0)})):p.addEventListener("click",()=>{g.init([d[0]],c,t,s),g.open(0)}),oe(p,d,2500),G.observe(m)})})})}async function ne(n){const o=await v(),i=document.getElementById("gallery3d");let e=document.getElementById("lightbox3d"),t=document.getElementById("closeButton");e||(e=document.createElement("div"),e.id="lightbox3d",e.classList.add("lightbox"),e.style.display="none",t=document.createElement("button"),t.id="closeButton",t.textContent="X",t.className="btn closeButton",t.onclick=()=>{e.style.display="none",window.renderer=null},e.appendChild(t),document.body.appendChild(e),e.addEventListener("click",s=>{s.target===e&&(e.style.display="none",e.innerHTML="",window.renderer=null)}));for(const s of o.assets["3d"]){let a=i.querySelector(`.card[data-file="${s}"]`);if(!a){a=document.createElement("div"),a.className="card lazy-load",a.dataset.type="3d",a.dataset.file=s;const l=document.createElement("img");l.alt=s.split("/").pop(),l.style.cursor="pointer";const r=document.createElement("div");r.className="img-wrapper",r.setAttribute("data-key","view3D"),r.setAttribute("data-label","View 3D"),r.setAttribute("data-icon","ðŸ”"),r.appendChild(l),a.appendChild(r),i.appendChild(a),G.observe(a),a.addEventListener("click",()=>{e.style.display="flex",e.innerHTML='<div id="viewer3d" class="viewer3d lightbox-content" style="width:80vw; height:80vh;"></div>';const d=e.querySelector("#viewer3d");d.appendChild(t),d.addEventListener("click",f=>f.stopPropagation()),Y(s,70,50)})}const c=s.split("/").pop().split(".")[0];I(a,o,c,n)}}function I(n,o,i,e){n.querySelectorAll(".card-descriptions").forEach(t=>t.remove()),o.descriptions.forEach(t=>{if(t.title===i&&t.language===e){const s=document.createElement("div");s.className="card-descriptions",s.innerHTML=t.html,n.appendChild(s)}})}function oe(n,o,i=3e3){if(o.length<=1)return;let e=0;const t=()=>{if(n.dataset.intervalId)return;const s=setInterval(()=>{e=(e+1)%o.length,n.src=o[e]},i);n.dataset.intervalId=s};n.startGallery=t}const se=/\/.*\//;function A(n){const o=n.indexOf("2d/")+2,i=n.substring(o);return se.test(i)}async function ie(){(await v()).assets["3d"].forEach(o=>{F(o,1e3,1e3).then(i=>{J.set(o,i)}),K(o,o).then(()=>console.log(`Cached: ${o}`)).catch(i=>console.error(`Failed to cache ${o}`,i))})}ie();const ae={gallery2d:"2D Gallery",gallery3d:"3D Gallery",blog:"Blog",contact:"Contact",name:"Name",email:"Email",message:"Message",send:"Send",languageButton:"Deutsch",about:"About"},re={gallery2d:"2D Galerie",gallery3d:"3D Galerie",blog:"Blog",contact:"Kontakt",name:"Name",email:"E-Mail",message:"Nachricht",send:"Senden",languageButton:"English",about:"Ãœber mich"},ce={en:ae,de:re};let M="en",S=null;function de(n){S=n}function H(n){M=n,document.querySelectorAll("[data-key]").forEach(o=>{const i=o.dataset.key,e=ce[n]?.[i];e&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"?o.placeholder=e:o.textContent=e)}),S&&S()}document.querySelector(".langBtn").addEventListener("click",()=>{H(M==="en"?"de":"en")});function $(){return M}async function R(){b=$();const n=document.querySelector("section.active");if(!n)return;const o=document.getElementById("blog"),i=document.getElementById("about"),e=document.getElementById("impressum");o&&(o.innerHTML=""),i&&(i.innerHTML=""),e&&(e.innerHTML="");const t=n.id;if(t==="gallery3dContainer"&&window.renderer){const s=document.getElementById("viewer3d");window.renderer.setSize(s.clientWidth,s.clientHeight),window.camera.aspect=s.clientWidth/s.clientHeight,window.camera.updateProjectionMatrix()}else t==="gallery3dContainer"&&await ne(b);t==="gallery2dContainer"&&await te(b),t==="blog"&&await Q(b),t=="about"&&await _(b),t=="impressum"&&await ee(b)}document.querySelectorAll("nav button").forEach(n=>{n.addEventListener("click",async()=>{const o=document.getElementById("footerId");o&&o.classList.add("hidden");const i=n.dataset.target;if(!i)return;document.querySelectorAll("section").forEach(t=>{t.classList.remove("active")});const e=document.getElementById(i);if(e&&e.classList.add("active"),await R(),i==="contact"){const t=document.getElementById("contactForm");t.addEventListener("submit",async s=>{s.preventDefault();const a=new FormData(t),c=await fetch(t.action,{method:"POST",body:a,headers:{Accept:"application/json"}});document.getElementById("status").textContent=c.ok?b==="en"?"Message sent!":"Nachricht gesendet!":b==="en"?"Error sending message.":"Fehler beim Ãœbermitteln der Nachricht.",c.ok&&t.reset()},{once:!0})}o&&o.classList.remove("hidden")})});const O=document.querySelectorAll(".nav-btn");O.forEach(n=>{n.addEventListener("click",()=>{O.forEach(o=>o.classList.remove("selected")),n.classList.add("selected")})});de(R);let b=$();H(b);function le(){document.body.addEventListener("click",n=>{const o=n.target.closest(".lightbox img");if(o)if(n.stopImmediatePropagation(),o.classList.contains("zoomed"))o.classList.remove("zoomed"),setTimeout(()=>{o.classList.contains("zoomed")||(o.style.transformOrigin="center center")},300);else{const i=o.getBoundingClientRect(),e=(n.clientX-i.left)/i.width*100,t=(n.clientY-i.top)/i.height*100;o.style.transformOrigin=`${e}% ${t}%`,o.classList.add("zoomed")}}),document.body.addEventListener("mousemove",n=>{const o=document.querySelector(".lightbox img.zoomed");if(!o||!o.classList.contains("zoomed"))return;const i=o.getBoundingClientRect(),e=(n.clientX-i.left)/i.width*100,t=(n.clientY-i.top)/i.height*100;o.style.transformOrigin=`${e}% ${t}%`})}le();
