import{D as W,S as z,P,W as q,a as w,B as S,V as E,G as V,b as X,C as Z,O as U}from"./vendor-three-CErL6X5l.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();const F=new W;F.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/");const D=()=>{const n=new V;return n.setDRACOLoader(F),n};function Y(n,o,s){const e=document.getElementById("viewer3d"),t=e.clientWidth||600,i=e.clientHeight||400,a=new z,r=new P(o,t/i,.01,s);r.position.set(0,0,2);const u=new X(20,20,8947848,4473924);u.position.y=-1,a.add(u),a.background=new Z(2631720);const c=new q({antialias:!0});c.setSize(t,i),e.appendChild(c.domElement);const d=new U(r,c.domElement);d.enableDamping=!0;const m=new w(16777215,1),l=new w(16777215,.2),f=new w(16777215,1);m.position.set(8,0,8),l.position.set(-8,0,8),f.position.set(-8,10,-8),r.add(m,l,f),a.add(r);const g=J(n);if(g){const p=g.scene.clone();a.add(p),T(p,r,d)}else D().load(n,L=>{T(L.scene,r,d),x.set(n,L)});function y(){d.update(),c.render(a,r),requestAnimationFrame(y)}y(),window.renderer=c,window.camera=r}const T=(n,o,s)=>{const e=new S().setFromObject(n),t=e.getCenter(new E),i=e.getSize(new E);n.position.sub(t);const a=Math.max(i.x,i.y,i.z);o.position.z=a*1.5,s.target.set(0,0,0),s.update()};function H(n,o=200,s=200){return new Promise(e=>{const t=new z,i=new P(45,o/s,.01,1e3),a=new q({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});a.setSize(o,s);const r=new w(16777215,1),u=new w(16777215,.2),c=new w(16777215,1);r.position.set(8,0,8),u.position.set(-8,0,8),c.position.set(-8,10,-8),i.add(r),i.add(u),i.add(c),t.add(i),D().load(n,m=>{const l=m.scene;t.add(l);const f=new S().setFromObject(l),g=f.getCenter(new E),y=f.getSize(new E);l.position.sub(g);const p=Math.max(y.x,y.y,y.z),L=i.fov*(Math.PI/180);let B=p/2/Math.tan(L/2)*1.1;i.position.set(B*.6,B*.6,B*.6),i.lookAt(0,0,0),i.updateProjectionMatrix(),a.render(t,i),e(a.domElement.toDataURL()),a.dispose()})})}const x=new Map;async function K(n,o){if(x.has(n))return x.get(n);const s=D();return new Promise((e,t)=>{s.load(o,i=>{const a=i.scene,r=new S().setFromObject(a),u=new E;r.getCenter(u),a.position.sub(u),x.set(n,i),e(i)},void 0,t)})}function J(n){return x.get(n)}const h={images:[],currentIndex:0,lightboxImg:null,prevButton:null,nextButton:null};h.updateDisplay=function(){this.lightboxImg.src=this.images[this.currentIndex];const n=this.images.length>1;this.prevButton.style.display=n?"block":"none",this.nextButton.style.display=n?"block":"none",n&&(this.prevButton.disabled=this.currentIndex===0,this.nextButton.disabled=this.currentIndex===this.images.length-1)};h.init=function(n,o,s,e){this.images=n,this.lightboxImg=o,this.prevButton=s,this.nextButton=e,this.prevButton.onclick||(this.prevButton.onclick=()=>this.showPrev(),this.nextButton.onclick=()=>this.showNext())};h.showNext=function(){h.currentIndex<h.images.length-1&&(h.currentIndex++,h.updateDisplay())};h.showPrev=function(){h.currentIndex>0&&(h.currentIndex--,h.updateDisplay())};h.open=function(n){this.currentIndex=n,this.updateDisplay(),document.getElementById("lightbox2d").style.display="flex"};const Q={gallery2d:"2D Gallery",gallery3d:"3D Gallery",blog:"Blog",contact:"Contact",name:"Name",email:"Email",message:"Message",send:"Send",languageButton:"Deutsch",about:"About",legend3dMouse:"Left Click: Rotate<br>Right Click: Pan<br>Scroll Wheel: Zoom",legend3dTouch:"1 Finger: Rotate<br>2 Fingers: Pan / Zoom"},_={gallery2d:"2D Galerie",gallery3d:"3D Galerie",blog:"Blog",contact:"Kontakt",name:"Name",email:"E-Mail",message:"Nachricht",send:"Senden",languageButton:"English",about:"Ãœber mich",legend3dMouse:"Linksklick: Rotieren<br>Rechtsklick: Verschieben<br>Mausrad: Zoomen",legend3dTouch:"1 Finger: Rotieren<br>2 Finger: Verschieben / Zoomen"},I={en:Q,de:_},ee=new Map;let C=null;async function v(){return C||(C=await(await fetch("assets.json")).json(),C)}const R=new IntersectionObserver((n,o)=>{n.forEach(s=>{if(s.isIntersecting){const e=s.target,t=e.querySelector("img"),i=e.dataset.type,a=e.dataset.file||e.dataset.key,r=()=>{t.classList.add("ready"),e.classList.add("loaded")};i==="3d"?H(a,1e3,1e3).then(u=>{t.src=u,t.onload=r}):i==="2d"&&t.dataset.src&&(t.src=t.dataset.src,t.onload=()=>{typeof t.startGallery=="function"&&t.startGallery(),r()}),o.unobserve(e)}})},{rootMargin:"0px 0px 300px 0px"});function te(n){return v().then(o=>{const s=document.getElementById("blog");o.blog.forEach(e=>{if(e.title.toLowerCase()=="about"||e.title.toLowerCase()=="impressum"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("blog"),t.innerHTML=`<h3>${e.title}</h3>${e.html}`,s.appendChild(t)})})}function ne(n){return v().then(o=>{const s=document.getElementById("about");o.blog.forEach(e=>{if(e.title.toLowerCase()!=="about"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("about"),t.innerHTML=`${e.html}`,s.appendChild(t)})})}function oe(n){return v().then(o=>{const s=document.getElementById("impressum");o.blog.forEach(e=>{if(e.title.toLowerCase()!=="impressum"||e.language&&e.language!==n)return;const t=document.createElement("div");t.classList.add("impressum"),t.innerHTML=`${e.html}`,s.appendChild(t)})})}function ie(n){v().then(o=>{const s=document.getElementById("gallery2d");let e=document.getElementById("lightbox2d"),t=document.getElementById("prevButton"),i=document.getElementById("nextButton"),a=document.getElementById("closeButton");if(!e){e=document.createElement("div"),e.id="lightbox2d",e.classList.add("lightbox"),e.style.display="none",t=document.createElement("button"),t.id="prevButton",t.textContent="â®",t.className="btn prevButton",i=document.createElement("button"),i.id="nextButton",i.textContent="â¯",i.className="btn nextButton",a=document.createElement("button"),a.id="closeButton",a.textContent="X",a.className="btn closeButton",a.onclick=()=>{e.style.display="none"};const c=document.createElement("div");c.className="lightbox-content";let d=document.createElement("div");d.className="buttonDiv",d.appendChild(t),d.appendChild(i);const m=document.createElement("img");c.appendChild(a),c.appendChild(m),e.appendChild(c),e.appendChild(d),document.body.appendChild(e),e.addEventListener("click",l=>{if(l.target===e||l.target.className==="lightbox-content"){e.style.display="none";const f=e.querySelector("img");f&&f.classList.remove("zoomed")}})}const r=e.querySelector("img"),u={};o.assets["2d"].forEach(c=>{if(A(c)){const l=c.substring(c.indexOf("2d/")+3).split("/")[0];u[l]||(u[l]=[]),u[l].push(c)}else u[c]=[c]}),Object.keys(u).forEach(c=>{const d=u[c],m=d.length>1||A(d[0]),l=m?c:d[0],f=m?c:d[0].split("/").pop().split(".")[0];let g=s.querySelector(`.card[data-key="${l}"]`);if(g){k(g,o,f,n);return}g=document.createElement("div"),g.className="card lazy-load loaded",g.dataset.type="2d",g.setAttribute("data-key",l);const y=document.createElement("div");y.className="img-wrapper",y.setAttribute("data-icon","ðŸ”"),y.setAttribute("data-label","Zoom");const p=document.createElement("img");p.alt=c,p.style.cursor="pointer",p.dataset.src=m?d[0]:l,y.appendChild(p),g.appendChild(y),s.appendChild(g),requestAnimationFrame(()=>{k(g,o,f,n),m?(g.classList.add("slideshow-group"),p.addEventListener("click",()=>{h.init(d,r,t,i),h.open(0)})):p.addEventListener("click",()=>{h.init([d[0]],r,t,i),h.open(0)}),ae(p,d,2500),R.observe(g)})})})}async function se(n){const o=await v(),s=document.getElementById("gallery3d");let e=document.getElementById("lightbox3d"),t=document.getElementById("closeButton"),i=document.getElementById("legend3d");e||(e=document.createElement("div"),e.id="lightbox3d",e.classList.add("lightbox"),e.style.display="none",t=document.createElement("button"),t.id="closeButton",t.textContent="X",t.className="btn closeButton",t.onclick=()=>{e.style.display="none",window.renderer=null},i=document.createElement("div"),i.id="legend3d",i.classList.add("legend3d"),e.appendChild(t),e.appendChild(i),document.body.appendChild(e),e.addEventListener("click",a=>{a.target===e&&(e.style.display="none",e.innerHTML="",window.renderer=null)})),i.innerHTML="";for(const a of o.assets["3d"]){let r=s.querySelector(`.card[data-file="${a}"]`);if(!r){r=document.createElement("div"),r.className="card lazy-load",r.dataset.type="3d",r.dataset.file=a;const d=document.createElement("img");d.alt=a.split("/").pop(),d.style.cursor="pointer";const m=document.createElement("div");m.className="img-wrapper",m.setAttribute("data-key","view3D"),m.setAttribute("data-label","View 3D"),m.setAttribute("data-icon","ðŸ”"),m.appendChild(d),r.appendChild(m),s.appendChild(r),R.observe(r),r.addEventListener("click",()=>{e.style.display="flex",e.innerHTML='<div id="viewer3d" class="viewer3d lightbox-content" style="width:80vw; height:80vh;"></div>';const l=e.querySelector("#viewer3d");l.appendChild(t),l.appendChild(i),l.addEventListener("click",f=>f.stopPropagation()),Y(a,70,50)})}const u=a.split("/").pop().split(".")[0];k(r,o,u,n),("ontouchstart"in window||navigator.maxTouchPoints>0)&&i?i.innerHTML=I[n].legend3dTouch:i&&(i.innerHTML=I[n].legend3dMouse),console.log(n)}}function k(n,o,s,e){n.querySelectorAll(".card-descriptions").forEach(t=>t.remove()),o.descriptions.forEach(t=>{if(t.title===s&&t.language===e){const i=document.createElement("div");i.className="card-descriptions",i.innerHTML=t.html,n.appendChild(i)}})}function ae(n,o,s=3e3){if(o.length<=1)return;let e=0;const t=()=>{if(n.dataset.intervalId)return;const i=setInterval(()=>{e=(e+1)%o.length,n.src=o[e]},s);n.dataset.intervalId=i};n.startGallery=t}const re=/\/.*\//;function A(n){const o=n.indexOf("2d/")+2,s=n.substring(o);return re.test(s)}async function ce(){(await v()).assets["3d"].forEach(o=>{H(o,1e3,1e3).then(s=>{ee.set(o,s)}),K(o,o).then(()=>console.log(`Cached: ${o}`)).catch(s=>console.error(`Failed to cache ${o}`,s))})}ce();let N="en",M=null;function de(n){M=n}function G(n){N=n,document.querySelectorAll("[data-key]").forEach(o=>{const s=o.dataset.key,e=I[n]?.[s];e&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"?o.placeholder=e:o.textContent=e)}),M&&M()}document.querySelector(".langBtn").addEventListener("click",()=>{G(N==="en"?"de":"en")});function $(){return N}async function j(){b=$();const n=document.querySelector("section.active");if(!n)return;const o=document.getElementById("blog"),s=document.getElementById("about"),e=document.getElementById("impressum");o&&(o.innerHTML=""),s&&(s.innerHTML=""),e&&(e.innerHTML="");const t=n.id;if(t==="gallery3dContainer"&&window.renderer){const i=document.getElementById("viewer3d");window.renderer.setSize(i.clientWidth,i.clientHeight),window.camera.aspect=i.clientWidth/i.clientHeight,window.camera.updateProjectionMatrix()}else t==="gallery3dContainer"&&await se(b);t==="gallery2dContainer"&&await ie(b),t==="blog"&&await te(b),t=="about"&&await ne(b),t=="impressum"&&await oe(b)}document.querySelectorAll("nav button").forEach(n=>{n.addEventListener("click",async()=>{const o=document.getElementById("footerId");o&&o.classList.add("hidden");const s=n.dataset.target;if(!s)return;document.querySelectorAll("section").forEach(t=>{t.classList.remove("active")});const e=document.getElementById(s);if(e&&e.classList.add("active"),await j(),s==="contact"){const t=document.getElementById("contactForm");t.addEventListener("submit",async i=>{i.preventDefault();const a=new FormData(t),r=await fetch(t.action,{method:"POST",body:a,headers:{Accept:"application/json"}});document.getElementById("status").textContent=r.ok?b==="en"?"Message sent!":"Nachricht gesendet!":b==="en"?"Error sending message.":"Fehler beim Ãœbermitteln der Nachricht.",r.ok&&t.reset()},{once:!0})}o&&o.classList.remove("hidden")})});const O=document.querySelectorAll(".nav-btn");O.forEach(n=>{n.addEventListener("click",()=>{O.forEach(o=>o.classList.remove("selected")),n.classList.add("selected")})});de(j);let b=$();G(b);function le(){document.body.addEventListener("click",n=>{const o=n.target.closest(".lightbox img");if(o)if(n.stopImmediatePropagation(),o.classList.contains("zoomed"))o.classList.remove("zoomed"),setTimeout(()=>{o.classList.contains("zoomed")||(o.style.transformOrigin="center center")},300);else{const s=o.getBoundingClientRect(),e=(n.clientX-s.left)/s.width*100,t=(n.clientY-s.top)/s.height*100;o.style.transformOrigin=`${e}% ${t}%`,o.classList.add("zoomed")}}),document.body.addEventListener("mousemove",n=>{const o=document.querySelector(".lightbox img.zoomed");if(!o||!o.classList.contains("zoomed"))return;const s=o.getBoundingClientRect(),e=(n.clientX-s.left)/s.width*100,t=(n.clientY-s.top)/s.height*100;o.style.transformOrigin=`${e}% ${t}%`})}le();
