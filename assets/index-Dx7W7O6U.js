import{D as j,S as z,P as T,W as q,a as w,B as D,V as E,G as W,b as V,C as X,O as U}from"./vendor-three-CErL6X5l.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();const P=new j;P.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/");const k=()=>{const n=new W;return n.setDRACOLoader(P),n};function Y(n,o,i){const t=document.getElementById("viewer3d"),e=t.clientWidth||600,s=t.clientHeight||400,a=new z,r=new T(o,e/s,.01,i);r.position.set(0,0,2);const l=new V(20,20,8947848,4473924);l.position.y=-1,a.add(l),a.background=new X(2631720);const c=new q({antialias:!0});c.setSize(e,s),t.appendChild(c.domElement);const d=new U(r,c.domElement);d.enableDamping=!0;const f=new w(16777215,1),u=new w(16777215,.2),y=new w(16777215,1);f.position.set(8,0,8),u.position.set(-8,0,8),y.position.set(-8,10,-8),r.add(f,u,y),a.add(r);const m=Z(n);if(m){const p=m.scene.clone();a.add(p),N(p,r,d),console.log("Loaded from cache:",n)}else console.log("Loading compressed model:",n),k().load(n,L=>{N(L.scene,r,d),x.set(n,L)});function h(){d.update(),c.render(a,r),requestAnimationFrame(h)}h(),window.renderer=c,window.camera=r}const N=(n,o,i)=>{const t=new D().setFromObject(n),e=t.getCenter(new E),s=t.getSize(new E);n.position.sub(e);const a=Math.max(s.x,s.y,s.z);o.position.z=a*1.5,i.target.set(0,0,0),i.update()};function F(n,o=200,i=200){return new Promise(t=>{const e=new z,s=new T(45,o/i,.01,1e3),a=new q({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});a.setSize(o,i);const r=new w(16777215,1),l=new w(16777215,.2),c=new w(16777215,1);r.position.set(8,0,8),l.position.set(-8,0,8),c.position.set(-8,10,-8),s.add(r),s.add(l),s.add(c),e.add(s),k().load(n,f=>{const u=f.scene;e.add(u);const y=new D().setFromObject(u),m=y.getCenter(new E),h=y.getSize(new E);u.position.sub(m);const p=Math.max(h.x,h.y,h.z),L=s.fov*(Math.PI/180);let B=p/2/Math.tan(L/2)*1.1;s.position.set(B*.6,B*.6,B*.6),s.lookAt(0,0,0),s.updateProjectionMatrix(),a.render(e,s),t(a.domElement.toDataURL()),a.dispose()})})}const x=new Map;async function K(n,o){if(x.has(n))return x.get(n);const i=k();return new Promise((t,e)=>{i.load(o,s=>{const a=s.scene,r=new D().setFromObject(a),l=new E;r.getCenter(l),a.position.sub(l),x.set(n,s),t(s)},void 0,e)})}function Z(n){return x.get(n)}const g={images:[],currentIndex:0,lightboxImg:null,prevButton:null,nextButton:null};g.updateDisplay=function(){this.lightboxImg.src=this.images[this.currentIndex];const n=this.images.length>1;this.prevButton.style.display=n?"block":"none",this.nextButton.style.display=n?"block":"none",n&&(this.prevButton.disabled=this.currentIndex===0,this.nextButton.disabled=this.currentIndex===this.images.length-1)};g.init=function(n,o,i,t){this.images=n,this.lightboxImg=o,this.prevButton=i,this.nextButton=t,this.prevButton.onclick||(this.prevButton.onclick=()=>this.showPrev(),this.nextButton.onclick=()=>this.showNext())};g.showNext=function(){g.currentIndex<g.images.length-1&&(g.currentIndex++,g.updateDisplay())};g.showPrev=function(){g.currentIndex>0&&(g.currentIndex--,g.updateDisplay())};g.open=function(n){this.currentIndex=n,this.updateDisplay(),document.getElementById("lightbox2d").style.display="flex"};const J=new Map;let C=null;async function v(){return C||(C=await(await fetch("assets.json")).json(),C)}const G=new IntersectionObserver((n,o)=>{n.forEach(i=>{if(i.isIntersecting){const t=i.target,e=t.querySelector("img"),s=t.dataset.type,a=t.dataset.file||t.dataset.key,r=()=>{e.classList.add("ready"),t.classList.add("loaded")};s==="3d"?F(a,1e3,1e3).then(l=>{e.src=l,e.onload=r}):s==="2d"&&e.dataset.src&&(e.src=e.dataset.src,e.onload=()=>{typeof e.startGallery=="function"&&e.startGallery(),r()}),o.unobserve(t)}})},{rootMargin:"0px 0px 300px 0px"});function Q(n){return v().then(o=>{const i=document.getElementById("blog");o.blog.forEach(t=>{if(t.title.toLowerCase()=="about"||t.title.toLowerCase()=="impressum"||t.language&&t.language!==n)return;const e=document.createElement("div");e.classList.add("blog"),e.innerHTML=`<h3>${t.title}</h3>${t.html}`,i.appendChild(e)})})}function _(n){return v().then(o=>{const i=document.getElementById("about");o.blog.forEach(t=>{if(t.title.toLowerCase()!=="about"||t.language&&t.language!==n)return;const e=document.createElement("div");e.classList.add("about"),e.innerHTML=`${t.html}`,i.appendChild(e)})})}function ee(n){return v().then(o=>{const i=document.getElementById("impressum");o.blog.forEach(t=>{if(t.title.toLowerCase()!=="impressum"||t.language&&t.language!==n)return;const e=document.createElement("div");console.log(e),e.classList.add("impressum"),e.innerHTML=`${t.html}`,i.appendChild(e)})})}function te(n){v().then(o=>{const i=document.getElementById("gallery2d");let t=document.getElementById("lightbox2d"),e=document.getElementById("prevButton"),s=document.getElementById("nextButton"),a=document.getElementById("closeButton");if(!t){t=document.createElement("div"),t.id="lightbox2d",t.classList.add("lightbox"),t.style.display="none",e=document.createElement("button"),e.id="prevButton",e.textContent="â®",e.className="btn prevButton",s=document.createElement("button"),s.id="nextButton",s.textContent="â¯",s.className="btn nextButton",a=document.createElement("button"),a.id="closeButton",a.textContent="X",a.className="btn closeButton",a.onclick=()=>{t.style.display="none"};const c=document.createElement("div");c.className="lightbox-content";let d=document.createElement("div");d.className="buttonDiv",d.appendChild(e),d.appendChild(s);const f=document.createElement("img");c.appendChild(a),c.appendChild(f),t.appendChild(c),t.appendChild(d),document.body.appendChild(t),t.addEventListener("click",u=>{if(u.target===t||u.target.className==="lightbox-content"){t.style.display="none";const y=t.querySelector("img");y&&y.classList.remove("zoomed")}})}const r=t.querySelector("img"),l={};o.assets["2d"].forEach(c=>{if(A(c)){const u=c.substring(c.indexOf("2d/")+3).split("/")[0];l[u]||(l[u]=[]),l[u].push(c)}else l[c]=[c]}),Object.keys(l).forEach(c=>{const d=l[c],f=d.length>1||A(d[0]),u=f?c:d[0],y=f?c:d[0].split("/").pop().split(".")[0];let m=i.querySelector(`.card[data-key="${u}"]`);if(m){I(m,o,y,n);return}m=document.createElement("div"),m.className="card lazy-load loaded",m.dataset.type="2d",m.setAttribute("data-key",u);const h=document.createElement("div");h.className="img-wrapper",h.setAttribute("data-icon","ðŸ”"),h.setAttribute("data-label","Zoom");const p=document.createElement("img");p.alt=c,p.style.cursor="pointer",p.dataset.src=f?d[0]:u,h.appendChild(p),m.appendChild(h),i.appendChild(m),requestAnimationFrame(()=>{I(m,o,y,n),f?(m.classList.add("slideshow-group"),p.addEventListener("click",()=>{g.init(d,r,e,s),g.open(0)})):p.addEventListener("click",()=>{g.init([d[0]],r,e,s),g.open(0)}),oe(p,d,2500),G.observe(m)})})})}async function ne(n){const o=await v(),i=document.getElementById("gallery3d");let t=document.getElementById("lightbox3d"),e=document.getElementById("closeButton");t||(t=document.createElement("div"),t.id="lightbox3d",t.classList.add("lightbox"),t.style.display="none",e=document.createElement("button"),e.id="closeButton",e.textContent="X",e.className="btn closeButton",e.onclick=()=>{t.style.display="none",window.renderer=null},t.appendChild(e),document.body.appendChild(t),t.addEventListener("click",s=>{s.target===t&&(t.style.display="none",t.innerHTML="",window.renderer=null)}));for(const s of o.assets["3d"]){let a=i.querySelector(`.card[data-file="${s}"]`);if(!a){a=document.createElement("div"),a.className="card lazy-load",a.dataset.type="3d",a.dataset.file=s;const l=document.createElement("img");l.alt=s.split("/").pop(),l.style.cursor="pointer";const c=document.createElement("div");c.className="img-wrapper",c.setAttribute("data-key","view3D"),c.setAttribute("data-label","View 3D"),c.setAttribute("data-icon","ðŸ”"),c.appendChild(l),a.appendChild(c),i.appendChild(a),G.observe(a),a.addEventListener("click",()=>{t.style.display="flex",t.innerHTML='<div id="viewer3d" class="viewer3d lightbox-content" style="width:80vw; height:80vh;"></div>';const d=t.querySelector("#viewer3d");d.appendChild(e),d.addEventListener("click",f=>f.stopPropagation()),Y(s,70,50)})}const r=s.split("/").pop().split(".")[0];I(a,o,r,n)}}function I(n,o,i,t){n.querySelectorAll(".card-descriptions").forEach(e=>e.remove()),o.descriptions.forEach(e=>{if(e.title===i&&e.language===t){const s=document.createElement("div");s.className="card-descriptions",s.innerHTML=e.html,n.appendChild(s)}})}function oe(n,o,i=3e3){if(o.length<=1)return;let t=0;const e=()=>{if(n.dataset.intervalId)return;const s=setInterval(()=>{t=(t+1)%o.length,n.src=o[t]},i);n.dataset.intervalId=s};n.startGallery=e}const se=/\/.*\//;function A(n){const o=n.indexOf("2d/")+2,i=n.substring(o);return se.test(i)}async function ie(){const n=await v();console.log("Assets Data Received:",n),n.assets["3d"].forEach(o=>{F(o,1e3,1e3).then(i=>{J.set(o,i)}),K(o,o).then(()=>console.log(`Cached: ${o}`)).catch(i=>console.error(`Failed to cache ${o}`,i))})}ie();const ae={gallery2d:"2D Gallery",gallery3d:"3D Gallery",blog:"Blog",contact:"Contact",name:"Name",email:"Email",message:"Message",send:"Send",languageButton:"Deutsch",about:"About"},ce={gallery2d:"2D Galerie",gallery3d:"3D Galerie",blog:"Blog",contact:"Kontakt",name:"Name",email:"E-Mail",message:"Nachricht",send:"Senden",languageButton:"English",about:"Ãœber mich"},re={en:ae,de:ce};let M="en",S=null;function de(n){S=n}function H(n){M=n,document.querySelectorAll("[data-key]").forEach(o=>{const i=o.dataset.key,t=re[n]?.[i];t&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"?o.placeholder=t:o.textContent=t)}),S&&S()}document.querySelector(".langBtn").addEventListener("click",()=>{H(M==="en"?"de":"en")});function $(){return M}async function R(){b=$();const n=document.querySelector("section.active");if(!n)return;const o=document.getElementById("blog"),i=document.getElementById("about"),t=document.getElementById("impressum");o&&(o.innerHTML=""),i&&(i.innerHTML=""),t&&(t.innerHTML="");const e=n.id;if(console.log(window.renderer),e==="gallery3dContainer"&&window.renderer){const s=document.getElementById("viewer3d");window.renderer.setSize(s.clientWidth,s.clientHeight),window.camera.aspect=s.clientWidth/s.clientHeight,window.camera.updateProjectionMatrix()}else e==="gallery3dContainer"&&await ne(b);e==="gallery2dContainer"&&await te(b),e==="blog"&&await Q(b),e=="about"&&await _(b),e=="impressum"&&await ee(b)}document.querySelectorAll("nav button").forEach(n=>{n.addEventListener("click",async()=>{const o=document.getElementById("footerId");o&&o.classList.add("hidden");const i=n.dataset.target;if(!i)return;document.querySelectorAll("section").forEach(e=>{e.classList.remove("active")});const t=document.getElementById(i);if(t&&t.classList.add("active"),await R(),i==="contact"){const e=document.getElementById("contactForm");e.addEventListener("submit",async s=>{s.preventDefault();const a=new FormData(e),r=await fetch(e.action,{method:"POST",body:a,headers:{Accept:"application/json"}});document.getElementById("status").textContent=r.ok?b==="en"?"Message sent!":"Nachricht gesendet!":b==="en"?"Error sending message.":"Fehler beim Ãœbermitteln der Nachricht.",r.ok&&e.reset()},{once:!0})}o&&o.classList.remove("hidden")})});const O=document.querySelectorAll(".nav-btn");O.forEach(n=>{n.addEventListener("click",()=>{console.log(n),O.forEach(o=>o.classList.remove("selected")),n.classList.add("selected")})});de(R);let b=$();H(b);function le(){document.body.addEventListener("click",n=>{const o=n.target.closest(".lightbox img");if(o)if(n.stopImmediatePropagation(),o.classList.contains("zoomed"))o.classList.remove("zoomed"),setTimeout(()=>{o.classList.contains("zoomed")||(o.style.transformOrigin="center center")},300);else{const i=o.getBoundingClientRect(),t=(n.clientX-i.left)/i.width*100,e=(n.clientY-i.top)/i.height*100;o.style.transformOrigin=`${t}% ${e}%`,o.classList.add("zoomed")}}),document.body.addEventListener("mousemove",n=>{const o=document.querySelector(".lightbox img.zoomed");if(!o||!o.classList.contains("zoomed"))return;const i=o.getBoundingClientRect(),t=(n.clientX-i.left)/i.width*100,e=(n.clientY-i.top)/i.height*100;o.style.transformOrigin=`${t}% ${e}%`})}le();
