import{D as $,S as T,P as q,W as P,a as w,B as k,V as E,G as W,b as V,C as X,O as U}from"./vendor-three-CErL6X5l.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const z=new $;z.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.6/");const S=()=>{const n=new W;return n.setDRACOLoader(z),n};function K(n,s,a){const t=document.getElementById("viewer3d"),e=t.clientWidth||600,o=t.clientHeight||400,i=new T,c=new q(s,e/o,.01,a);c.position.set(0,0,2);const l=new V(20,20,8947848,4473924);l.position.y=-1,i.add(l),i.background=new X(2631720);const r=new P({antialias:!0});r.setSize(e,o),t.appendChild(r.domElement);const d=new U(c,r.domElement);d.enableDamping=!0;const m=new w(16777215,1),u=new w(16777215,.2),b=new w(16777215,1);m.position.set(8,0,8),u.position.set(-8,0,8),b.position.set(-8,10,-8),c.add(m,u,b),i.add(c);const g=J(n);if(g){const f=g.scene.clone();i.add(f),M(f,c,d),console.log("Loaded from cache:",n)}else console.log("Loading compressed model:",n),S().load(n,L=>{M(L.scene,c,d),x.set(n,L)});function h(){d.update(),r.render(i,c),requestAnimationFrame(h)}h(),window.renderer=r,window.camera=c}const M=(n,s,a)=>{const t=new k().setFromObject(n),e=t.getCenter(new E),o=t.getSize(new E);n.position.sub(e);const i=Math.max(o.x,o.y,o.z);s.position.z=i*1.5,a.target.set(0,0,0),a.update()};function F(n,s=200,a=200){return new Promise(t=>{const e=new T,o=new q(45,s/a,.01,1e3),i=new P({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});i.setSize(s,a);const c=new w(16777215,1),l=new w(16777215,.2),r=new w(16777215,1);c.position.set(8,0,8),l.position.set(-8,0,8),r.position.set(-8,10,-8),o.add(c),o.add(l),o.add(r),e.add(o),S().load(n,m=>{const u=m.scene;e.add(u);const b=new k().setFromObject(u),g=b.getCenter(new E),h=b.getSize(new E);u.position.sub(g);const f=Math.max(h.x,h.y,h.z),L=o.fov*(Math.PI/180);let B=f/2/Math.tan(L/2)*1.1;o.position.set(B*.6,B*.6,B*.6),o.lookAt(0,0,0),o.updateProjectionMatrix(),i.render(e,o),t(i.domElement.toDataURL()),i.dispose()})})}const x=new Map;async function Z(n,s){if(x.has(n))return x.get(n);const a=S();return new Promise((t,e)=>{a.load(s,o=>{const i=o.scene,c=new k().setFromObject(i),l=new E;c.getCenter(l),i.position.sub(l),x.set(n,o),t(o)},void 0,e)})}function J(n){return x.get(n)}const p={images:[],currentIndex:0,lightboxImg:null,prevButton:null,nextButton:null};p.updateDisplay=function(){this.lightboxImg.src=this.images[this.currentIndex];const n=this.images.length>1;this.prevButton.style.display=n?"block":"none",this.nextButton.style.display=n?"block":"none",n&&(this.prevButton.disabled=this.currentIndex===0,this.nextButton.disabled=this.currentIndex===this.images.length-1)};p.init=function(n,s,a,t){this.images=n,this.lightboxImg=s,this.prevButton=a,this.nextButton=t,this.prevButton.onclick||(this.prevButton.onclick=()=>this.showPrev(),this.nextButton.onclick=()=>this.showNext())};p.showNext=function(){p.currentIndex<p.images.length-1&&(p.currentIndex++,p.updateDisplay())};p.showPrev=function(){p.currentIndex>0&&(p.currentIndex--,p.updateDisplay())};p.open=function(n){this.currentIndex=n,this.updateDisplay(),document.getElementById("lightbox2d").style.display="flex"};const Q=new Map;let C=null;async function v(){return C||(C=await(await fetch("assets.json")).json(),C)}const G=new IntersectionObserver((n,s)=>{n.forEach(a=>{if(a.isIntersecting){const t=a.target,e=t.querySelector("img"),o=t.dataset.type,i=t.dataset.file||t.dataset.key,c=()=>{e.classList.add("ready"),t.classList.add("loaded")};o==="3d"?F(i,1e3,1e3).then(l=>{e.src=l,e.onload=c}):o==="2d"&&e.dataset.src&&(e.src=e.dataset.src,e.onload=()=>{typeof e.startGallery=="function"&&e.startGallery(),c()}),s.unobserve(t)}})},{rootMargin:"0px 0px 300px 0px"});function Y(n){return v().then(s=>{const a=document.getElementById("blog");s.blog.forEach(t=>{if(t.title.toLowerCase()=="about"||t.title.toLowerCase()=="impressum"||t.language&&t.language!==n)return;const e=document.createElement("div");e.classList.add("blog"),e.innerHTML=`<h3>${t.title}</h3>${t.html}`,a.appendChild(e)})})}function _(n){return v().then(s=>{const a=document.getElementById("about");s.blog.forEach(t=>{if(t.title.toLowerCase()!=="about"||t.language&&t.language!==n)return;const e=document.createElement("div");e.classList.add("about"),e.innerHTML=`${t.html}`,a.appendChild(e)})})}function ee(n){return v().then(s=>{const a=document.getElementById("impressum");s.blog.forEach(t=>{if(t.title.toLowerCase()!=="impressum"||t.language&&t.language!==n)return;const e=document.createElement("div");console.log(e),e.classList.add("impressum"),e.innerHTML=`${t.html}`,a.appendChild(e)})})}function te(n){v().then(s=>{const a=document.getElementById("gallery2d");let t=document.getElementById("lightbox2d"),e=document.getElementById("prevButton"),o=document.getElementById("nextButton"),i=document.getElementById("closeButton");if(!t){t=document.createElement("div"),t.id="lightbox2d",t.classList.add("lightbox"),t.style.display="none",e=document.createElement("button"),e.id="prevButton",e.textContent="â®",e.className="btn prevButton",o=document.createElement("button"),o.id="nextButton",o.textContent="â¯",o.className="btn nextButton",i=document.createElement("button"),i.id="closeButton",i.textContent="X",i.className="btn closeButton",i.onclick=()=>{t.style.display="none"};const r=document.createElement("div");r.className="lightbox-content";let d=document.createElement("div");d.className="buttonDiv",d.appendChild(e),d.appendChild(o);const m=document.createElement("img");m.addEventListener("click",u=>{u.stopPropagation(),m.classList.toggle("zoomed")}),r.appendChild(i),r.appendChild(m),t.appendChild(r),t.appendChild(d),document.body.appendChild(t),t.addEventListener("click",u=>{u.target==e||u.target==o||(t.style.display="none")})}const c=t.querySelector("img"),l={};s.assets["2d"].forEach(r=>{if(N(r)){const u=r.substring(r.indexOf("2d/")+3).split("/")[0];l[u]||(l[u]=[]),l[u].push(r)}else l[r]=[r]}),Object.keys(l).forEach(r=>{const d=l[r],m=d.length>1||N(d[0]),u=m?r:d[0],b=m?r:d[0].split("/").pop().split(".")[0];let g=a.querySelector(`.card[data-key="${u}"]`);if(g){I(g,s,b,n);return}g=document.createElement("div"),g.className="card lazy-load loaded",g.dataset.type="2d",g.setAttribute("data-key",u);const h=document.createElement("div");h.className="img-wrapper",h.setAttribute("data-icon","ðŸ”"),h.setAttribute("data-label","Zoom");const f=document.createElement("img");f.alt=r,f.style.cursor="pointer",f.dataset.src=m?d[0]:u,h.appendChild(f),g.appendChild(h),a.appendChild(g),requestAnimationFrame(()=>{I(g,s,b,n),m?(g.classList.add("slideshow-group"),f.addEventListener("click",()=>{p.init(d,c,e,o),p.open(0)})):f.addEventListener("click",()=>{p.init([d[0]],c,e,o),p.open(0)}),oe(f,d,2500),G.observe(g)})})})}async function ne(n){const s=await v(),a=document.getElementById("gallery3d");let t=document.getElementById("lightbox3d"),e=document.getElementById("closeButton");t||(t=document.createElement("div"),t.id="lightbox3d",t.classList.add("lightbox"),t.style.display="none",e=document.createElement("button"),e.id="closeButton",e.textContent="X",e.className="btn closeButton",e.onclick=()=>{t.style.display="none",window.renderer=null},t.appendChild(e),document.body.appendChild(t),t.addEventListener("click",o=>{o.target===t&&(t.style.display="none",t.innerHTML="",window.renderer=null)}));for(const o of s.assets["3d"]){let i=a.querySelector(`.card[data-file="${o}"]`);if(!i){i=document.createElement("div"),i.className="card lazy-load",i.dataset.type="3d",i.dataset.file=o;const l=document.createElement("img");l.alt=o.split("/").pop(),l.style.cursor="pointer";const r=document.createElement("div");r.className="img-wrapper",r.setAttribute("data-key","view3D"),r.setAttribute("data-label","View 3D"),r.setAttribute("data-icon","ðŸ”"),r.appendChild(l),i.appendChild(r),a.appendChild(i),G.observe(i),i.addEventListener("click",()=>{t.style.display="flex",t.innerHTML='<div id="viewer3d" class="viewer3d lightbox-content" style="width:80vw; height:80vh;"></div>';const d=t.querySelector("#viewer3d");d.appendChild(e),d.addEventListener("click",m=>m.stopPropagation()),K(o,70,50)})}const c=o.split("/").pop().split(".")[0];I(i,s,c,n)}}function I(n,s,a,t){n.querySelectorAll(".card-descriptions").forEach(e=>e.remove()),s.descriptions.forEach(e=>{if(e.title===a&&e.language===t){const o=document.createElement("div");o.className="card-descriptions",o.innerHTML=e.html,n.appendChild(o)}})}function oe(n,s,a=3e3){if(s.length<=1)return;let t=0;const e=()=>{if(n.dataset.intervalId)return;const o=setInterval(()=>{t=(t+1)%s.length,n.src=s[t]},a);n.dataset.intervalId=o};n.startGallery=e}const se=/\/.*\//;function N(n){const s=n.indexOf("2d/")+2,a=n.substring(s);return se.test(a)}async function ae(){const n=await v();console.log("Assets Data Received:",n),n.assets["3d"].forEach(s=>{F(s,1e3,1e3).then(a=>{Q.set(s,a)}),Z(s,s).then(()=>console.log(`Cached: ${s}`)).catch(a=>console.error(`Failed to cache ${s}`,a))})}ae();const ie={gallery2d:"2D Gallery",gallery3d:"3D Gallery",blog:"Blog",contact:"Contact",name:"Name",email:"Email",message:"Message",send:"Send",languageButton:"Deutsch",about:"About"},re={gallery2d:"2D Galerie",gallery3d:"3D Galerie",blog:"Blog",contact:"Kontakt",name:"Name",email:"E-Mail",message:"Nachricht",send:"Senden",languageButton:"English",about:"Ãœber mich"},ce={en:ie,de:re};let A="en",D=null;function de(n){D=n}function H(n){A=n,document.querySelectorAll("[data-key]").forEach(s=>{const a=s.dataset.key,t=ce[n]?.[a];t&&(s.tagName==="INPUT"||s.tagName==="TEXTAREA"?s.placeholder=t:s.textContent=t)}),D&&D()}document.querySelector(".langBtn").addEventListener("click",()=>{H(A==="en"?"de":"en")});function j(){return A}async function R(){y=j();const n=document.querySelector("section.active");if(!n)return;const s=document.getElementById("blog"),a=document.getElementById("about"),t=document.getElementById("impressum");s&&(s.innerHTML=""),a&&(a.innerHTML=""),t&&(t.innerHTML="");const e=n.id;if(console.log(window.renderer),e==="gallery3dContainer"&&window.renderer){const o=document.getElementById("viewer3d");window.renderer.setSize(o.clientWidth,o.clientHeight),window.camera.aspect=o.clientWidth/o.clientHeight,window.camera.updateProjectionMatrix()}else e==="gallery3dContainer"&&await ne(y);e==="gallery2dContainer"&&await te(y),e==="blog"&&await Y(y),e=="about"&&await _(y),e=="impressum"&&await ee(y)}document.querySelectorAll("nav button").forEach(n=>{n.addEventListener("click",async()=>{const s=document.getElementById("footerId");s&&s.classList.add("hidden");const a=n.dataset.target;if(!a)return;document.querySelectorAll("section").forEach(e=>{e.classList.remove("active")});const t=document.getElementById(a);if(t&&t.classList.add("active"),await R(),a==="contact"){const e=document.getElementById("contactForm");e.addEventListener("submit",async o=>{o.preventDefault();const i=new FormData(e),c=await fetch(e.action,{method:"POST",body:i,headers:{Accept:"application/json"}});document.getElementById("status").textContent=c.ok?y==="en"?"Message sent!":"Nachricht gesendet!":y==="en"?"Error sending message.":"Fehler beim Ãœbermitteln der Nachricht.",c.ok&&e.reset()},{once:!0})}s&&s.classList.remove("hidden")})});const O=document.querySelectorAll(".nav-btn");O.forEach(n=>{n.addEventListener("click",()=>{console.log(n),O.forEach(s=>s.classList.remove("selected")),n.classList.add("selected")})});de(R);let y=j();H(y);
